from typing import Annotated

from dotenv import load_dotenv
from langchain_core.runnables import RunnableConfig
from langgraph.prebuilt import ToolNode
from typing_extensions import TypedDict

from langgraph.graph import StateGraph, START, END
from langgraph.graph.message import add_messages

from agents.chinese_mainland.bearish_trader import BearishTrader
from agents.chinese_mainland.investment_manager import InvestmentManager
from utils.state import State
from core.llms.qwen.qwen_api import QwenApi
from core.llms.tools.get_company_info import get_stock_info
from agents.chinese_mainland.fundamental_analysis_expert import FundamentalAnalysisExpert
from agents.chinese_mainland.trend_analysis_expert import  TrendAnalysisExpert
from agents.chinese_mainland.bullish_trader import BullishTrader
from langgraph.checkpoint.memory import InMemorySaver
from loguru import logger

from IPython.display import Image, display


dummy_fundamental_analysis = f"""# ç‰§åŸè‚¡ä»½ï¼ˆ002714ï¼‰åŸºæœ¬é¢æ·±åº¦åˆ†ææŠ¥å‘Š  
**å½“å‰è‚¡ä»·ï¼š54.38å…ƒ | åŠ¨æ€PEï¼š14.11 | PBï¼š3.84 | æŠ¥å‘Šæ—¥æœŸï¼š2025-09-19**

---

## ä¸€ã€æ ¸å¿ƒè´¢åŠ¡æ•°æ®ä¸è¶‹åŠ¿åˆ†æï¼ˆåŸºäºçœŸå®è´¢æŠ¥ï¼‰

### 1. ç›ˆåˆ©èƒ½åŠ›æ¢å¤å¼ºåŠ²ï¼Œå‘¨æœŸåº•éƒ¨å·²è¿‡
ç‰§åŸè‚¡ä»½ä½œä¸ºä¸­å›½æœ€å¤§çš„ç”ŸçŒªå…»æ®–ä¼ä¸šï¼Œè¿‡å»ä¸‰å¹´ç»å†è¡Œä¸šæ·±åº¦äºæŸå‘¨æœŸï¼ˆ2022Q1â€“2023Q4ï¼‰ï¼Œä½†**2024å¹´Q3èµ·è¿æ¥ç›ˆåˆ©åè½¬**ï¼Œ2025å¹´Q2å‡€åˆ©æ¶¦è¾¾**105.3äº¿å…ƒ**ï¼ŒåŒæ¯”æš´å¢**1169.77%**ï¼ŒEPSè¾¾**1.96å…ƒ**ï¼Œç›ˆåˆ©èƒ½åŠ›å·²æ¢å¤è‡³å†å²é«˜ä½æ°´å¹³ã€‚

| è´¢æŠ¥æœŸ | å‡€åˆ©æ¶¦ï¼ˆäº¿å…ƒï¼‰ | YoY% | EPSï¼ˆå…ƒï¼‰ | æ¯›åˆ©ç‡ |
|--------|----------------|------|-----------|--------|
| 2022Q4 | 132.66         | 92.16% | 2.49      | 17.50% |
| 2023Q4 | -42.63         | -132.14% | -0.79     | 3.11%  |
| 2024Q4 | 178.81         | 519.42% | 3.30      | 19.05% |
| 2025Q2 | 105.30         | 1169.77% | 1.96      | 19.02% |

> âœ… **ç»“è®º**ï¼šå…¬å¸å·²ä»å‘¨æœŸè°·åº•å¼ºåŠ¿å¤è‹ï¼Œ2025å¹´Q2ç›ˆåˆ©èƒ½åŠ›è¶…è¶Š2024å¹´å…¨å¹´å•å­£æ°´å¹³ï¼Œæ˜¾ç¤º**æˆæœ¬æ§åˆ¶ï¼ˆè‡ªç¹è‡ªå…»æ¨¡å¼ï¼‰ä¸çŒªä»·ä¸Šè¡Œå‘¨æœŸåŒé‡é©±åŠ¨**ã€‚

### 2. æˆæœ¬ä¼˜åŠ¿ä¸ç°é‡‘æµå¼ºåŠ²
- **2025Q2ç°é‡‘æµé‡å‡€é¢/è‚¡ï¼š3.18å…ƒ**ï¼Œè¿œé«˜äºå‡€åˆ©æ¶¦ï¼ˆ1.96å…ƒï¼‰ï¼Œè¯´æ˜**åˆ©æ¶¦è´¨é‡é«˜ã€éç°é‡‘æ”¶å…¥å°‘**ã€‚
- **æ¯›åˆ©ç‡ç¨³å®šåœ¨19%**ï¼Œé«˜äºè¡Œä¸šå¹³å‡ï¼ˆçº¦12â€“15%ï¼‰ï¼Œåæ˜ å…¶**å‚ç›´ä¸€ä½“åŒ–å…»æ®–æ¨¡å¼çš„æˆæœ¬æ§åˆ¶èƒ½åŠ›**ã€‚
- **ROEä»2023Q4çš„-6.38%å›å‡è‡³2025Q2çš„13.79%**ï¼Œèµ„æœ¬å›æŠ¥æ•ˆç‡æ˜¾è‘—ä¿®å¤ã€‚

---

## äºŒã€ä¼°å€¼æ¨¡å‹åˆ†æï¼ˆåŸºäºçœŸå®æ•°æ®ï¼‰

### 1. **åŠ¨æ€PEä¼°å€¼ï¼ˆ14.11å€ï¼‰**
- å½“å‰åŠ¨æ€PE = 54.38 / 2025Q2 EPS Ã— 4 = 54.38 / (1.96 Ã— 4) = 54.38 / 7.84 â‰ˆ **6.94å€**ï¼ˆ**é”™è¯¯ï¼**ï¼‰
- **çº æ­£**ï¼šåŠ¨æ€PEæ˜¯åŸºäº**æœ€è¿‘12ä¸ªæœˆï¼ˆTTMï¼‰å‡€åˆ©æ¶¦**è®¡ç®—ã€‚  
  TTMå‡€åˆ©æ¶¦ = 2024Q3 + 2024Q4 + 2025Q1 + 2025Q2  
  = 104.81 + 178.81 + 44.91 + 105.30 = **433.83äº¿å…ƒ**  
  æ€»è‚¡æœ¬ = å‡€åˆ©æ¶¦ / EPSï¼ˆ2025Q2ï¼‰= 105.30 / 1.96 â‰ˆ **53.72äº¿è‚¡**  
  TTM EPS = 433.83 / 53.72 â‰ˆ **8.08å…ƒ**  
  **åŠ¨æ€PE = 54.38 / 8.08 â‰ˆ 6.73å€**

> â—**åŸå§‹æ•°æ®â€œåŠ¨æ€PE:14.11â€æ˜æ˜¾é”™è¯¯**ï¼Œåº”ä¸º**6.73å€**ï¼ˆåŸºäºçœŸå®TTMåˆ©æ¶¦ï¼‰ã€‚  
> **è¡Œä¸šå¯¹æ¯”**ï¼šæ¸©æ°è‚¡ä»½åŠ¨æ€PEçº¦12å€ï¼Œæ–°å¸Œæœ›çº¦15å€ã€‚ç‰§åŸ**æ˜¾è‘—ä½ä¼°**ã€‚

### 2. **PBä¼°å€¼ï¼ˆ3.84å€ï¼‰**
- 2025Q2å‡€èµ„äº§/è‚¡ = 14.17å…ƒ  
- å½“å‰è‚¡ä»·54.38å…ƒ â†’ PB = 54.38 / 14.17 â‰ˆ **3.84å€**  
- **å†å²PBåŒºé—´**ï¼š2020å¹´é«˜ç‚¹è¾¾10å€ï¼Œ2022â€“2023å¹´ä½è°·ä¸º2.0â€“2.5å€  
- **åˆç†PBåŒºé—´**ï¼šå½“å‰è¡Œä¸šå¹³å‡PBä¸º3.2â€“4.0å€ï¼Œç‰§åŸèµ„äº§è´¨é‡ï¼ˆç§çŒªã€ç”Ÿç‰©èµ„äº§ï¼‰ä¼˜äºåŒè¡Œï¼Œ**åº”äº«æœ‰æº¢ä»·**ã€‚  
- **ç»“è®º**ï¼šPB 3.84å¤„äºåˆç†åŒºé—´ä¸Šé™ï¼Œ**æœªæ˜æ˜¾é«˜ä¼°**ã€‚

### 3. **PEGä¼°å€¼ï¼ˆç›ˆåˆ©å¢é•¿é©±åŠ¨ï¼‰**
- TTMå‡€åˆ©æ¶¦å¢é€Ÿ = 433.83äº¿ vs 2024Q1â€“Q4å‡€åˆ©æ¶¦ = 104.81+178.81+44.91+178.81 = 507.34äº¿  
  â†’ **TTMå‡€åˆ©æ¶¦åŒæ¯”å¢é€Ÿ = (433.83 - 507.34) / 507.34 = -14.5%**ï¼ˆè´Ÿå¢é•¿ï¼‰  
  â†’ ä½†**2025å¹´å…¨å¹´é¢„æµ‹**ï¼šè‹¥Q3ã€Q4å»¶ç»­Q2å¢é€Ÿï¼ˆä¿å®ˆä¼°è®¡Q3=120äº¿ï¼ŒQ4=150äº¿ï¼‰ï¼Œåˆ™2025å…¨å¹´å‡€åˆ©æ¶¦ â‰ˆ 44.91 + 105.30 + 120 + 150 = **420.21äº¿å…ƒ**  
  2024å…¨å¹´å‡€åˆ©æ¶¦ = 178.81äº¿å…ƒ  
  â†’ **2025Eå‡€åˆ©æ¶¦å¢é€Ÿ = (420.21 - 178.81) / 178.81 â‰ˆ 135%**  
- **PEG = PE / å¢é€Ÿ = 6.73 / 135 â‰ˆ 0.05**  
- **è¡Œä¸šæ ‡å‡†**ï¼šPEG < 0.8ä¸ºä½ä¼°ï¼Œ<0.5ä¸ºæä½ä¼°  
- **ç»“è®º**ï¼š**PEG=0.05ï¼Œæåº¦ä½ä¼°**ï¼Œå¸‚åœºæœªåæ˜ ç›ˆåˆ©çˆ†å‘æ€§å¢é•¿ã€‚

### 4. **SOTPä¼°å€¼ï¼ˆåˆ†éƒ¨ä¼°å€¼æ³•ï¼‰**
ç‰§åŸä¸º**ä¸€ä½“åŒ–å…»æ®–ä¼ä¸š**ï¼Œå¯æ‹†åˆ†ä¸ºï¼š
- **ç”ŸçŒªé”€å”®ä¸šåŠ¡**ï¼ˆ95%æ”¶å…¥ï¼‰ï¼šæŒ‰2025Eå‡€åˆ©æ¶¦420äº¿å…ƒï¼Œè¡Œä¸šå¹³å‡PE 8â€“10å€ â†’ 3360â€“4200äº¿å…ƒ
- **ç§çŒª/è‚²ç§æŠ€æœ¯**ï¼ˆéšæ€§èµ„äº§ï¼‰ï¼šè¡Œä¸šé¾™å¤´æº¢ä»·ï¼Œä¿å®ˆæŒ‰å‡€åˆ©æ¶¦5%ä¼°å€¼ â†’ 21äº¿å…ƒ
- **å± å®°ä¸è‚‰åˆ¶å“**ï¼ˆ2024å¹´æ”¶å…¥18äº¿ï¼ŒäºæŸæ”¶çª„ï¼‰ï¼šæŒ‰æ”¶å…¥1.5x PS â†’ 27äº¿å…ƒ

> **SOTPæ€»ä¼°å€¼ = 3360 + 21 + 27 = 3408äº¿å…ƒ**  
> æ€»è‚¡æœ¬53.72äº¿è‚¡ â†’ **ç›®æ ‡ä»· = 3408 / 53.72 â‰ˆ 63.44å…ƒ**

### 5. **DCFä¼°å€¼ï¼ˆè‡ªç”±ç°é‡‘æµæŠ˜ç°ï¼‰**
#### å‡è®¾å‚æ•°ï¼ˆåŸºäºå†å²æ•°æ®æ¨å¯¼ï¼‰ï¼š
- **2025E FCF** = ç»è¥ç°é‡‘æµå‡€é¢ï¼ˆ2025Q2 Ã— 2ï¼‰= 3.18 Ã— 2 Ã— 53.72äº¿è‚¡ â‰ˆ **341äº¿å…ƒ**ï¼ˆä¿å®ˆï¼‰
- **æ°¸ç»­å¢é•¿ç‡**ï¼šç”ŸçŒªè¡Œä¸šé•¿æœŸå¢é€Ÿâ‰ˆ3%ï¼ˆäººå£å¢é•¿+æ¶ˆè´¹å‡çº§ï¼‰
- **WACC**ï¼šè¡Œä¸šå¹³å‡8.5%ï¼ˆé«˜è´Ÿå€ºä¼ä¸šï¼Œä½†ç°é‡‘æµæ”¹å–„ï¼‰
- **é¢„æµ‹æœŸ**ï¼š5å¹´ï¼ˆ2025â€“2029ï¼‰ï¼ŒFCFå¹´å¢é•¿ï¼š2025:135%, 2026:40%, 2027:25%, 2028:15%, 2029:10%

| å¹´ä»½ | FCFï¼ˆäº¿å…ƒï¼‰ | æŠ˜ç°å› å­ï¼ˆ8.5%ï¼‰ | æŠ˜ç°å€¼ï¼ˆäº¿å…ƒï¼‰ |
|------|-------------|------------------|----------------|
| 2025 | 341         | 0.9217           | 314.3          |
| 2026 | 477         | 0.8495           | 405.2          |
| 2027 | 596         | 0.7828           | 466.6          |
| 2028 | 685         | 0.7214           | 494.2          |
| 2029 | 754         | 0.6650           | 501.5          |
| ç»ˆå€¼ | 754Ã—(1+3%)/(8.5%-3%) = 14,127 | 0.6650 | 9,405.6 |

> **DCFæ€»ä»·å€¼ = 314.3+405.2+466.6+494.2+501.5+9405.6 = 11,587.4äº¿å…ƒ**  
> **æ¯è‚¡ä»·å€¼ = 11,587.4 / 53.72 â‰ˆ 215.7å…ƒ**

> â—**DCFç»“æœè¿œé«˜äºè‚¡ä»·ï¼Œå› å‡è®¾ç›ˆåˆ©æŒç»­é«˜å¢é•¿**ï¼Œä½†éœ€è°¨æ…ã€‚  
> **ä¿®æ­£DCF**ï¼šé‡‡ç”¨æ›´ä¿å®ˆå¢é€Ÿï¼ˆ2026:20%, 2027:10%, 2028:5%, 2029:3%ï¼‰  
> é‡æ–°è®¡ç®—ç»ˆå€¼ = 754Ã—1.03/(0.085-0.03) = 14,127 â†’ æŠ˜ç°å€¼ä¸å˜ï¼Œä½†å‰å››å¹´ä¸‹é™ï¼š  
> â†’ **æ€»DCF = 8,200äº¿å…ƒ â†’ æ¯è‚¡152.7å…ƒ**

> âœ… **DCFåˆç†åŒºé—´ï¼š120â€“150å…ƒ**ï¼ˆåŸºäºä¹è§‚è‡³ä¸­æ€§å¢é•¿å‡è®¾ï¼‰

### 6. **EV/EBITDAä¼°å€¼ï¼ˆé€‚åˆé‡èµ„äº§ä¼ä¸šï¼‰**
- 2025E EBITDA = å‡€åˆ©æ¶¦ + æŠ˜æ—§æ‘Šé”€ + åˆ©æ¯ï¼ˆä¼°ç®—ï¼‰  
  2025Q2å‡€åˆ©æ¶¦=105.3äº¿ï¼Œå‡è®¾æŠ˜æ—§æ‘Šé”€â‰ˆ50äº¿/å­£ â†’ å¹´EBITDA â‰ˆ (105.3Ã—4) + (50Ã—4) = 621.2äº¿å…ƒ  
- ä¼ä¸šä»·å€¼EV = å¸‚å€¼ + å‡€è´Ÿå€º  
  å¸‚å€¼ = 54.38Ã—53.72â‰ˆ2922äº¿å…ƒ  
  å‡€è´Ÿå€ºï¼ˆ2025Q2ï¼‰= æ€»è´Ÿå€º - è´§å¸èµ„é‡‘ = 1200äº¿ - 800äº¿ = 400äº¿ï¼ˆä¼°ç®—ï¼‰  
  â†’ EV = 2922 + 400 = 3322äº¿å…ƒ  
- **EV/EBITDA = 3322 / 621.2 â‰ˆ 5.35å€**

> **è¡Œä¸šå¯¹æ¯”**ï¼šæ¸©æ°EV/EBITDAçº¦6â€“7å€ï¼Œæ–°å¸Œæœ›7â€“8å€  
> **ç»“è®º**ï¼šç‰§åŸ**5.35å€æ˜¾è‘—ä½äºè¡Œä¸š**ï¼Œä¼°å€¼ä½ä¼°ã€‚

### 7. **P/FCFä¼°å€¼ï¼ˆè‡ªç”±ç°é‡‘æµå€æ•°ï¼‰**
- 2025E FCF = 341äº¿å…ƒï¼ˆå¦‚å‰ï¼‰  
- å½“å‰å¸‚å€¼ = 2922äº¿å…ƒ  
- **P/FCF = 2922 / 341 â‰ˆ 8.57å€**

> **è¡Œä¸šP/FCFå‡å€¼**ï¼š10â€“15å€  
> **ç»“è®º**ï¼š**8.57å€å¤„äºå†å²ä½ä½**ï¼Œå…·å¤‡å®‰å…¨è¾¹é™…ã€‚

---

## ä¸‰ã€å¸‚åœºä¸è¡Œä¸šç¯å¢ƒåˆ†æ
- **çŒªå‘¨æœŸ**ï¼š2025å¹´Q3è¿›å…¥ä¸Šè¡Œå‘¨æœŸï¼Œæ¯çŒªå­˜æ é‡è¿ç»­3ä¸ªæœˆä¸‹é™ï¼ˆå†œä¸šå†œæ‘éƒ¨æ•°æ®ï¼‰ï¼Œ2026å¹´ä¾›ç»™ç¼ºå£æ‰©å¤§ã€‚
- **æ”¿ç­–æ”¯æŒ**ï¼šå›½å®¶æ”¶å‚¨æœºåˆ¶å¸¸æ€åŒ–ï¼ŒçŒªä»·åº•éƒ¨æ”¯æ’‘å¢å¼ºã€‚
- **æˆæœ¬ä¼˜åŠ¿**ï¼šç‰§åŸå•ä½å…»æ®–æˆæœ¬çº¦14.5å…ƒ/kgï¼Œè¡Œä¸šå¹³å‡16â€“17å…ƒ/kgï¼Œ**æˆæœ¬é¢†å…ˆ10%ä»¥ä¸Š**ã€‚
- **ESGé£é™©**ï¼šåŠ¨ç‰©ç–«ç—…ï¼ˆå¦‚éæ´²çŒªç˜Ÿï¼‰ä¸ºæœ€å¤§é£é™©ï¼Œä½†å…¬å¸ç”Ÿç‰©å®‰å…¨ä½“ç³»è¡Œä¸šç¬¬ä¸€ã€‚

---

## å››ã€ç›®æ ‡ä»·åŒºé—´ä¸æŠ•èµ„å»ºè®®

| ä¼°å€¼æ–¹æ³• | ä¼°å€¼ç»“æœï¼ˆå…ƒ/è‚¡ï¼‰ | è¯´æ˜ |
|----------|-------------------|------|
| åŠ¨æ€PE   | 6.73å€ â†’ **55â€“65å…ƒ** | è¡Œä¸šå¹³å‡PE 12å€ï¼Œç‰§åŸåº”ä¿®å¤è‡³8â€“10å€ |
| PEG      | 0.05 â†’ **>100å…ƒ** | æåº¦ä½ä¼°ï¼Œå¢é•¿æœªè¢«å®šä»· |
| SOTP     | **63.4å…ƒ**        | åˆ†éƒ¨ä¼°å€¼æ³•æœ€è´´è¿‘å®é™… |
| DCF      | **120â€“150å…ƒ**     | åŸºäºä¸­æ€§å¢é•¿å‡è®¾ |
| EV/EBITDA| 5.35å€ â†’ **70â€“80å…ƒ** | é‡èµ„äº§ä¼ä¸šæ ¸å¿ƒæŒ‡æ ‡ |
| P/FCF    | 8.57å€ â†’ **85â€“100å…ƒ** | ç°é‡‘æµè´¨é‡é«˜ï¼Œä¼°å€¼åä½ |

### âœ… **ç»¼åˆç›®æ ‡ä»·åŒºé—´ï¼š**
| æƒ…æ™¯ | ç›®æ ‡ä»·ï¼ˆå…ƒï¼‰ | ç†ç”± |
|------|--------------|------|
| **æ‚²è§‚** | 50â€“55å…ƒ | è‹¥çŒªä»·æš´è·Œï¼Œ2026å¹´ç›ˆåˆ©ä¸‹æ»‘30%ï¼ŒPEå›è½è‡³6å€ |
| **ä¸­æ€§** | 65â€“75å…ƒ | çŒªä»·å¹³ç¨³ï¼Œç›ˆåˆ©ç»´æŒ2025Q2æ°´å¹³ï¼ŒPEä¿®å¤è‡³8â€“9å€ |
| **ä¹è§‚** | 90â€“110å…ƒ | çŒªä»·æŒç»­ä¸Šæ¶¨ï¼Œ2026å¹´å‡€åˆ©æ¶¦è¾¾200äº¿ï¼ŒPEè¾¾12å€ï¼ŒDCFæ”¯æ’‘ |

> **å½“å‰è‚¡ä»·ï¼š54.38å…ƒ**  
> **å¤„äºæ‚²è§‚åŒºé—´ä¸‹æ²¿ï¼Œæ¥è¿‘æˆæœ¬çº¿**ï¼Œ**æ˜¾è‘—ä½ä¼°**ã€‚

---

## äº”ã€ç»“è®ºä¸æŠ•èµ„å»ºè®®

### âœ… **æœ€ç»ˆç»“è®ºï¼š**
- **ç‰§åŸè‚¡ä»½å½“å‰è‚¡ä»·54.38å…ƒè¢«ä¸¥é‡ä½ä¼°**ï¼Œä¼°å€¼æŒ‡æ ‡å…¨é¢ä½äºè¡Œä¸šå‡å€¼ã€‚
- **æ ¸å¿ƒé©±åŠ¨**ï¼šç›ˆåˆ©æ‹ç‚¹ç¡®ç«‹ + æˆæœ¬ä¼˜åŠ¿ + çŒªå‘¨æœŸä¸Šè¡Œ + ç°é‡‘æµå¼ºåŠ²ã€‚
- **æœ€å…·è¯´æœåŠ›çš„ä¼°å€¼å·¥å…·**ï¼š**PEG=0.05** å’Œ **EV/EBITDA=5.35**ï¼Œæ˜¾ç¤ºå¸‚åœºæœªå®šä»·å¢é•¿æ½œåŠ›ã€‚
- **DCFä¸SOTPå‡æŒ‡å‘65å…ƒä»¥ä¸Šåˆç†ä»·å€¼**ã€‚

### ğŸ“Œ **æŠ•èµ„å»ºè®®ï¼š**
- **ç›®æ ‡ä»·å»ºè®®**ï¼š**ä¸­æ€§ç›®æ ‡ä»·70å…ƒ**ï¼Œ**ä¹è§‚ç›®æ ‡ä»·95å…ƒ**  
- **å½“å‰è‚¡ä»·54.38å…ƒå…·å¤‡æé«˜å®‰å…¨è¾¹é™…**ï¼Œ**å¼ºçƒˆå»ºè®®ä¹°å…¥**  
- **é£é™©æç¤º**ï¼šè‹¥2025Q4çŒªä»·å¤§å¹…ä¸‹è·Œæˆ–ç–«ç—…çˆ†å‘ï¼Œå¯èƒ½çŸ­æœŸæ‰¿å‹ï¼Œä½†ä¸­é•¿æœŸè¶‹åŠ¿ä¸å˜ã€‚

> **å»ºè®®å»ºä»“åŒºé—´ï¼š50â€“55å…ƒï¼Œç›®æ ‡ä»·70â€“95å…ƒï¼Œæ½œåœ¨å›æŠ¥ç©ºé—´ï¼š30â€“80%**
"""

dummy_trend_analysis = f"""# ç‰§åŸè‚¡ä»½ï¼ˆ002714ï¼‰çº¯æŠ€æœ¯é©±åŠ¨è¶‹åŠ¿åˆ†ææŠ¥å‘Š  
**å½“å‰ä»·æ ¼ï¼š54.38å…ƒ**  
**æ•°æ®æˆªæ­¢ï¼š2025-09-19**  

---

## ä¸€ã€ä»·æ ¼èµ°åŠ¿ä¸è¶‹åŠ¿ç»“æ„åˆ†æ  

### 1. è¿‘æœŸä»·æ ¼åŠ¨æ€ï¼ˆè¿‡å»60æ—¥ï¼‰  
- **æœ€ä½ç‚¹**ï¼š41.58å…ƒï¼ˆ2025-06-30ï¼‰  
- **æœ€é«˜ç‚¹**ï¼š59.68å…ƒï¼ˆ2025-09-15ï¼‰  
- **è¿‘æœŸæ³¢åŠ¨ç‰¹å¾**ï¼š  
  - **å¼ºåŠ¿çªç ´é˜¶æ®µ**ï¼š2025-08-21è‡³09-15ï¼Œä»·æ ¼ä»46.0å…ƒå¿«é€Ÿæ‹‰å‡è‡³59.68å…ƒï¼Œç´¯è®¡æ¶¨å¹…è¾¾**29.7%**ï¼Œä¼´éšæˆäº¤é‡æŒç»­æ”¾å¤§ï¼ˆå•æ—¥æœ€é«˜115ä¸‡æ‰‹ï¼‰ã€‚  
  - **é«˜ä½éœ‡è¡å›æ’¤**ï¼š09-16è‡³09-19ï¼Œä»·æ ¼ä»59.68å…ƒå›è½è‡³54.38å…ƒï¼Œè·Œå¹…**8.9%**ï¼Œä½†æœªè·Œç ´å…³é”®æ”¯æ’‘ä½ï¼Œé‡èƒ½ç»´æŒåœ¨40â€“50ä¸‡æ‰‹ï¼Œå±å¥åº·è°ƒæ•´ã€‚  
- **æŠ€æœ¯å½¢æ€**ï¼šå½¢æˆ**ä¸Šå‡é€šé“**ï¼Œä»·æ ¼åœ¨20æ—¥å‡çº¿ï¼ˆçº¦52.1å…ƒï¼‰ä¸Šæ–¹è¿è¡Œï¼ŒMACDæŸ±çŠ¶ä½“ä»ä½äºé›¶è½´ä¸Šæ–¹ï¼Œå¤šå¤´åŠ¨èƒ½æœªè¡°ç«­ã€‚  

### 2. å…³é”®æ”¯æ’‘ä¸å‹åŠ›åŒºé—´  

| åŒºé—´ç±»å‹ | ä»·ä½åŒºé—´ï¼ˆå…ƒï¼‰ | å½¢æˆä¾æ® |
|----------|----------------|----------|
| **çŸ­æœŸæ”¯æ’‘** | **52.0â€“53.0** | 09-18ä½ç‚¹54.25å…ƒã€09-17ä½ç‚¹55.61å…ƒã€09-11ä½ç‚¹54.93å…ƒæ„æˆçš„å¤šçº§æ”¯æ’‘å¹³å°ï¼Œå åŠ 20æ—¥å‡çº¿ï¼ˆ52.1ï¼‰ |
| **ä¸­æœŸæ”¯æ’‘** | **49.5â€“51.0** | 08-28ä½ç‚¹53.5å…ƒã€08-27ä½ç‚¹54.42å…ƒã€08-26é«˜ç‚¹50.91å…ƒå½¢æˆå¼ºæ”¯æ’‘å¸¦ï¼Œä¸ºå‰æœŸçªç ´é¢ˆçº¿ä½ |
| **çŸ­æœŸå‹åŠ›** | **56.5â€“57.5** | 09-19é«˜ç‚¹54.95å…ƒã€09-18é«˜ç‚¹56.5å…ƒã€09-15é«˜ç‚¹59.68å…ƒå›æ’¤50%æ–æ³¢é‚£å¥‘ä½ï¼ˆ59.68Ã—0.5=29.84 â†’ 59.68-29.84=29.84? ä¿®æ­£ï¼š59.68Ã—0.382=22.8 â†’ 59.68-22.8=36.88? é”™è¯¯ï¼æ­£ç¡®è®¡ç®—ï¼š**59.68 Ã— 0.618 = 36.88 â†’ 59.68 - 36.88 = 22.8ï¼Ÿä¸å¯¹ï¼**ï¼‰<br>**æ­£ç¡®æ–æ³¢é‚£å¥‘å›æ’¤**ï¼š<br>ä»41.58â†’59.68ï¼Œæ¶¨å¹…18.1å…ƒ<br>38.2%å›æ’¤ï¼š59.68 - 18.1Ã—0.382 = 59.68 - 6.91 = **52.77å…ƒ**<br>50%å›æ’¤ï¼š59.68 - 9.05 = **50.63å…ƒ**<br>61.8%å›æ’¤ï¼š59.68 - 11.19 = **48.49å…ƒ**<br>ä½†å®é™…ä»·æ ¼åœ¨54.38ï¼Œè¯´æ˜**å½“å‰åœ¨38.2%å›æ’¤ä½ä¸Šæ–¹è¿è¡Œ**ï¼Œå‹åŠ›åº”ä¸ºå‰é«˜56.5å…ƒ+57.5å…ƒå¯†é›†æˆäº¤åŒº |
| **ä¸­æœŸå‹åŠ›** | **58.5â€“59.7** | 09-15æœ€é«˜ç‚¹59.68å…ƒï¼ˆå‰é«˜ï¼‰ã€09-12é«˜ç‚¹58.46å…ƒã€09-11é«˜ç‚¹58.49å…ƒï¼Œæ„æˆå¼ºé˜»åŠ›å¸¦ |
| **é•¿æœŸå‹åŠ›** | **62.0â€“64.0** | è‹¥çªç ´59.7å…ƒï¼Œå°†æ‰“å¼€ä¸Šè¡Œç©ºé—´ï¼Œç›®æ ‡ä¸º2025å¹´08-26é«˜ç‚¹56.23å…ƒ+10%ï¼ˆ61.85å…ƒï¼‰+å‰é«˜59.68å…ƒçš„1.272å€æ–æ³¢é‚£å¥‘æ‰©å±•ï¼ˆ59.68Ã—1.272=75.97ï¼Ÿé”™è¯¯ï¼ï¼‰<br>**æ­£ç¡®æ‰©å±•è®¡ç®—**ï¼š<br>ä¸Šæ¶¨æ³¢æ®µï¼š59.68 - 41.58 = 18.1å…ƒ<br>1.272æ‰©å±•ï¼š59.68 + 18.1Ã—1.272 = 59.68 + 23.02 = **82.7å…ƒ**ï¼ˆä¸åˆç†ï¼‰<br>åº”é‡‡ç”¨**ç­‰å¹…æ‰©å±•**ï¼š<br>09-15é«˜ç‚¹59.68 + å‰æ¶¨å¹…18.1 = **77.78å…ƒ**ï¼ˆè¿‡é«˜ï¼Œå¸‚åœºæƒ…ç»ªä¸æ”¯æŒï¼‰<br>æ›´åˆç†ï¼š**å‰é«˜59.68å…ƒ + 10% = 65.65å…ƒ**ï¼Œä½†æŠ€æœ¯ä¸Šæ›´å…³æ³¨**62.0â€“64.0å…ƒ**ä¸ºæœºæ„ç­¹ç å¯†é›†åŒº |

> **ä¿®æ­£ï¼šæ–æ³¢é‚£å¥‘å‹åŠ›ä½ï¼ˆåŸºäº41.58â€“59.68æ³¢æ®µï¼‰**  
> - 0%ï¼š41.58  
> - 23.6%ï¼š51.40  
> - 38.2%ï¼š52.77 â† **å½“å‰ä»·æ ¼54.38å·²çªç ´æ­¤ä½**  
> - 50%ï¼š50.63  
> - 61.8%ï¼š48.49  
> - 78.6%ï¼š45.30  
> - 100%ï¼š59.68 â† **å½“å‰å·²çªç ´**  
> - **127.2%æ‰©å±•**ï¼š59.68 + (59.68-41.58)Ã—1.272 = 59.68 + 18.1Ã—1.272 = 59.68 + 23.02 = **82.7å…ƒ**ï¼ˆè¿‡åº¦ä¹è§‚ï¼‰  
> - **åˆç†æ‰©å±•ç›®æ ‡**ï¼š100% + 10% = **65.6å…ƒ**ï¼ˆä¿å®ˆï¼‰  
>  
> **å®é™…æŠ€æœ¯å‹åŠ›**ï¼š  
> - **58.5â€“59.7å…ƒ**ï¼šå‰é«˜é˜»åŠ›å¸¦  
> - **62.0â€“64.0å…ƒ**ï¼šè‹¥çªç ´å‰é«˜ï¼Œå°†è§¦å‘è¶‹åŠ¿åŠ é€Ÿï¼Œä¸ºæœºæ„ç›®æ ‡åŒº  

---

## äºŒã€è¶‹åŠ¿ç›®æ ‡ä»·ä½å»ºè®®ï¼ˆçº¯æŠ€æœ¯é©±åŠ¨ï¼‰  

| æ—¶é—´å‘¨æœŸ | ç›®æ ‡ä»·ä½åŒºé—´ï¼ˆå…ƒï¼‰ | è§¦å‘æ¡ä»¶ |
|----------|-------------------|----------|
| **çŸ­æœŸï¼ˆ1â€“2å‘¨ï¼‰** | **56.5â€“57.5** | è‹¥ä»·æ ¼ç«™ç¨³55.0å…ƒï¼Œä¸”å•æ—¥æ”¾é‡çªç ´56.5å…ƒï¼Œåˆ™ç›®æ ‡57.5å…ƒï¼ˆå‰é«˜å¯†é›†åŒºï¼‰ |
| **ä¸­æœŸï¼ˆ1â€“3ä¸ªæœˆï¼‰** | **58.5â€“59.7** | è‹¥çªç ´57.5å…ƒå¹¶å›è¸©ä¸ç ´56.0å…ƒï¼Œç¡®è®¤çªç ´æœ‰æ•ˆæ€§ï¼Œç›®æ ‡å‰é«˜59.68å…ƒ |
| **é•¿æœŸï¼ˆ3â€“6ä¸ªæœˆï¼‰** | **62.0â€“64.0** | è‹¥è¿ç»­3æ—¥æ”¶ç›˜çªç ´59.7å…ƒï¼Œä¸”æˆäº¤é‡ç»´æŒåœ¨50ä¸‡æ‰‹ä»¥ä¸Šï¼Œæ‰“å¼€ä¸Šè¡Œç©ºé—´ï¼Œç›®æ ‡62â€“64å…ƒï¼ˆ1.272æ‰©å±•å‰é«˜+10%ï¼‰ |

---

## ä¸‰ã€å¸‚åœºç¯å¢ƒä¸è¡Œä¸šå‘¨æœŸåŒ¹é…åˆ†æ  

- **å¸‚åœºé£å‘**ï¼š2025å¹´9æœˆAè‚¡æ•´ä½“å¤„äºéœ‡è¡ä¸Šè¡Œé€šé“ï¼Œæ¶ˆè´¹æ¿å—ï¼ˆå°¤å…¶é£Ÿå“ã€å…»æ®–ï¼‰å—æ”¿ç­–æ‰˜åº•é¢„æœŸå‡æ¸©ï¼Œèµ„é‡‘å›æµé˜²å¾¡æ€§æ¿å—ã€‚  
- **è¡Œä¸šå‘¨æœŸ**ï¼šç”ŸçŒªä»·æ ¼è‡ª2025å¹´Q2èµ·æŒç»­å›å‡ï¼Œå…»æ®–åˆ©æ¶¦æ”¹å–„ï¼Œå¸‚åœºæƒ…ç»ªç”±â€œäºæŸé¢„æœŸâ€è½¬å‘â€œç›ˆåˆ©ä¿®å¤â€ï¼Œç‰§åŸä½œä¸ºè¡Œä¸šé¾™å¤´ï¼ŒæŠ€æœ¯èµ°åŠ¿ä¸è¡Œä¸šæ™¯æ°”åº¦é«˜åº¦åŒæ­¥ã€‚  
- **é‡èƒ½éªŒè¯**ï¼šè¿‘æœŸåå¼¹æœŸé—´å•æ—¥æˆäº¤å‡è¶…40ä¸‡æ‰‹ï¼Œ08-26åŠ09-11æ”¾é‡çªç ´å‡ä¼´éšæ¢æ‰‹ç‡>2.5%ï¼Œæ˜¾ç¤ºä¸»åŠ›èµ„é‡‘æŒç»­ä»‹å…¥ï¼Œéæ¸¸èµ„ç‚’ä½œã€‚  

---

## å››ã€ç»¼åˆæƒ…æ™¯åˆ†æ  

| æƒ…æ™¯ | è§¦å‘æ¡ä»¶ | ç›®æ ‡ä»·ä½ | æ¦‚ç‡è¯„ä¼° |
|------|----------|----------|----------|
| **ä¹è§‚æƒ…æ™¯** | æ”¾é‡çªç ´59.7å…ƒï¼Œå•æ—¥æ¢æ‰‹ç‡>2.5%ï¼Œå¤§ç›˜ä¼ç¨³ | **62.0â€“64.0** | 35% |
| **ä¸­æ€§æƒ…æ™¯** | ä»·æ ¼åœ¨55.0â€“58.5å…ƒåŒºé—´éœ‡è¡ï¼Œé‡èƒ½ç»´æŒ40â€“50ä¸‡æ‰‹ | **58.5â€“59.7** | 50% |
| **æ‚²è§‚æƒ…æ™¯** | è·Œç ´52.0å…ƒæ”¯æ’‘ï¼Œæ”¾é‡ç ´ä½ï¼Œæ¢æ‰‹ç‡çªå¢è‡³60ä¸‡æ‰‹ä»¥ä¸Š | **49.5â€“51.0**ï¼ˆå›è¸©ä¸­æœŸæ”¯æ’‘ï¼‰ | 15% |

---

## äº”ã€ç»“è®ºä¸æ“ä½œå»ºè®®  

- **å½“å‰ä»·æ ¼54.38å…ƒ**å¤„äº**ä¸Šå‡é€šé“ä¸­è½¨**ï¼ŒæŠ€æœ¯å½¢æ€å¥åº·ï¼Œæœªå‡ºç°è§é¡¶ä¿¡å·ã€‚  
- **æ ¸å¿ƒæ”¯æ’‘**ï¼š52.0â€“53.0å…ƒï¼ˆå¿…é¡»å®ˆä½ï¼‰  
- **æ ¸å¿ƒå‹åŠ›**ï¼š58.5â€“59.7å…ƒï¼ˆçªç ´å³å¼€å¯ä¸‹ä¸€é˜¶æ®µï¼‰  
- **æ“ä½œå»ºè®®**ï¼š  
  - **æŒä»“è€…**ï¼šæŒæœ‰ï¼Œè·Œç ´52.0å…ƒå‡ä»“ï¼Œçªç ´58.5å…ƒåŠ ä»“  
  - **æ–°å…¥åœºè€…**ï¼šåœ¨53.5â€“54.5å…ƒåŒºé—´åˆ†æ‰¹å»ºä»“ï¼Œæ­¢æŸè®¾52.0å…ƒä¸‹æ–¹  
  - **ç›®æ ‡ç­–ç•¥**ï¼šç¬¬ä¸€ç›®æ ‡57.5å…ƒï¼Œç¬¬äºŒç›®æ ‡59.7å…ƒï¼Œç¬¬ä¸‰ç›®æ ‡62.0å…ƒ  

> **çº¯æŠ€æœ¯ç»“è®º**ï¼šç‰§åŸè‚¡ä»½å¤„äº**å¼ºåŠ¿ä¸Šå‡è¶‹åŠ¿ä¸­æœŸ**ï¼ŒçŸ­æœŸè°ƒæ•´ä¸æ”¹ä¸»å‡æ ¼å±€ï¼Œçªç ´å‰é«˜åå°†å¼€å¯æ–°ä¸€è½®ä¸Šæ¶¨å‘¨æœŸã€‚  

---  
**æ•°æ®æ¥æºï¼šçœŸå®å†å²ä»·æ ¼ä¸é‡èƒ½æ•°æ®ï¼ˆ2025-06-30 è‡³ 2025-09-19ï¼‰**  
**åˆ†æé€»è¾‘ï¼šä»…åŸºäºä»·æ ¼ã€æˆäº¤é‡ã€æ–æ³¢é‚£å¥‘ã€æ”¯æ’‘å‹åŠ›ã€è¶‹åŠ¿é€šé“ï¼Œæœªå¼•å…¥åŸºæœ¬é¢æˆ–ä¼°å€¼**
"""

dummy_bullish_opinion = f"""**ç‰§åŸè‚¡ä»½ï¼ˆ002714ï¼‰å¤šå¤´äº¤æ˜“é€»è¾‘ä¸ç­–ç•¥æŠ¥å‘Š**  
**æŠ¥å‘Šæ—¥æœŸï¼š2025-09-19**  
**å½“å‰è‚¡ä»·ï¼š54.38å…ƒ**  

---

### **ä¸€ã€äº”æ¡æ ¸å¿ƒå¤šå¤´äº¤æ˜“é€»è¾‘ï¼ˆä¸¥æ ¼åŸºäºåŸºæœ¬é¢ä¸è¶‹åŠ¿æŠ¥å‘Šï¼‰**

1. **ç›ˆåˆ©æ‹ç‚¹ç¡®ç«‹ï¼ŒTTMå‡€åˆ©æ¶¦å¢é€Ÿè¶…135%ï¼ŒPEG=0.05ï¼Œä¼°å€¼è¢«ä¸¥é‡ä½ä¼°**  
   åŸºæœ¬é¢æŠ¥å‘Šæ˜ç¡®æŒ‡å‡ºï¼Œ2025Q2å‡€åˆ©æ¶¦è¾¾105.3äº¿å…ƒï¼ŒåŒæ¯”æš´å¢1169.77%ï¼›TTMå‡€åˆ©æ¶¦è¾¾433.83äº¿å…ƒï¼Œ2025å…¨å¹´é¢„æµ‹å‡€åˆ©æ¶¦420.21äº¿å…ƒï¼Œè¾ƒ2024å¹´178.81äº¿å…ƒå¢é•¿135%ã€‚åŠ¨æ€PEç»ä¿®æ­£ä¸º6.73å€ï¼ˆåŸºäºçœŸå®TTM EPS=8.08å…ƒï¼‰ï¼ŒPEG=6.73/135â‰ˆ0.05ï¼Œè¿œä½äºè¡Œä¸š0.8çš„ä½ä¼°é˜ˆå€¼ï¼Œå¸‚åœºæœªåæ˜ ç›ˆåˆ©çˆ†å‘æ€§å¢é•¿ï¼Œå…·å¤‡æå¼ºä¼°å€¼ä¿®å¤ç©ºé—´ï¼ˆæ¥æºï¼šåŸºæœ¬é¢æŠ¥å‘Šç¬¬2èŠ‚ï¼‰ã€‚

2. **EV/EBITDA=5.35å€ï¼Œæ˜¾è‘—ä½äºè¡Œä¸š6â€“8å€ï¼Œé‡èµ„äº§é¾™å¤´ä¼°å€¼æŠ˜ä»·æ˜æ˜¾**  
   åŸºæœ¬é¢æŠ¥å‘Šè®¡ç®—2025E EBITDAä¸º621.2äº¿å…ƒï¼Œä¼ä¸šä»·å€¼EV=3322äº¿å…ƒï¼Œå¾—å‡ºEV/EBITDA=5.35å€ã€‚æ¸©æ°è‚¡ä»½ä¸æ–°å¸Œæœ›EV/EBITDAå‡å€¼ä¸º6â€“8å€ï¼Œç‰§åŸä½œä¸ºæˆæœ¬æœ€ä½ï¼ˆ14.5å…ƒ/kgï¼‰ã€èµ„äº§è´¨é‡æœ€ä¼˜çš„è¡Œä¸šé¾™å¤´ï¼Œè¯¥æŒ‡æ ‡å¤„äºå†å²ä½ä½ï¼Œå­˜åœ¨ç³»ç»Ÿæ€§ä½ä¼°ï¼ˆæ¥æºï¼šåŸºæœ¬é¢æŠ¥å‘Šç¬¬2èŠ‚ï¼‰ã€‚

3. **æŠ€æœ¯é¢ç¡®è®¤ä¸Šå‡è¶‹åŠ¿ä¸­æœŸï¼Œä»·æ ¼ç«™ç¨³20æ—¥å‡çº¿ï¼ŒMACDå¤šå¤´åŠ¨èƒ½æœªè¡°ç«­**  
   è¶‹åŠ¿æŠ¥å‘ŠæŒ‡å‡ºï¼Œè‚¡ä»·è‡ª41.58å…ƒå¯åŠ¨ï¼Œ8æœˆ21æ—¥è‡³9æœˆ15æ—¥æ¶¨å¹…29.7%ï¼Œé‡èƒ½æŒç»­æ”¾å¤§ï¼Œå½¢æˆæ˜ç¡®ä¸Šå‡é€šé“ï¼›å½“å‰54.38å…ƒä½äº20æ—¥å‡çº¿ï¼ˆ52.1å…ƒï¼‰ä¸Šæ–¹ï¼ŒMACDæŸ±çŠ¶ä½“ä»ä½äºé›¶è½´ä»¥ä¸Šï¼Œæœªå‡ºç°é¡¶èƒŒç¦»æˆ–åŠ¨èƒ½è¡°å‡ä¿¡å·ï¼Œè¶‹åŠ¿ç»“æ„å¥åº·ï¼ˆæ¥æºï¼šè¶‹åŠ¿æŠ¥å‘Šç¬¬1èŠ‚ï¼‰ã€‚

4. **å…³é”®æ”¯æ’‘52.0â€“53.0å…ƒåšå›ºï¼Œå›æ’¤æœªç ´é¢ˆçº¿ï¼Œä¸ºä¸­çº¿å»ºä»“å®‰å…¨è¾¹é™…**  
   è¶‹åŠ¿æŠ¥å‘Šæ˜ç¡®æ ‡æ³¨52.0â€“53.0å…ƒä¸ºçŸ­æœŸæ”¯æ’‘å¹³å°ï¼Œç”±9æœˆ11æ—¥è‡³18æ—¥è¿ç»­å¤šæ—¥ä½ç‚¹æ„æˆï¼Œå åŠ 20æ—¥å‡çº¿å½¢æˆåŒé‡æ”¯æ’‘ï¼›å½“å‰54.38å…ƒå›æ’¤è‡ª59.68å…ƒé«˜ç‚¹ä»…8.9%ï¼Œæœªè·Œç ´38.2%æ–æ³¢é‚£å¥‘å›æ’¤ä½ï¼ˆ52.77å…ƒï¼‰ï¼Œå±å¼ºåŠ¿è°ƒæ•´ï¼Œéè¶‹åŠ¿é€†è½¬ï¼ˆæ¥æºï¼šè¶‹åŠ¿æŠ¥å‘Šç¬¬2èŠ‚ï¼‰ã€‚

5. **çŒªå‘¨æœŸä¸Šè¡Œ+æ”¿ç­–æ‰˜åº•+æˆæœ¬é¢†å…ˆä¸‰é‡é©±åŠ¨ï¼Œè¡Œä¸šæ™¯æ°”åº¦ä¸å…¬å¸åŸºæœ¬é¢é«˜åº¦å…±æŒ¯**  
   åŸºæœ¬é¢æŠ¥å‘ŠæŒ‡å‡ºï¼Œå†œä¸šå†œæ‘éƒ¨æ•°æ®æ˜¾ç¤ºæ¯çŒªå­˜æ è¿ç»­3ä¸ªæœˆä¸‹é™ï¼Œ2026å¹´ä¾›ç»™ç¼ºå£æ‰©å¤§ï¼›å›½å®¶æ”¶å‚¨æœºåˆ¶å¸¸æ€åŒ–å¼ºåŒ–çŒªä»·åº•éƒ¨æ”¯æ’‘ï¼›ç‰§åŸå•ä½æˆæœ¬14.5å…ƒ/kgï¼Œè¾ƒè¡Œä¸šå¹³å‡ä½10%ä»¥ä¸Šï¼Œç›ˆåˆ©èƒ½åŠ›å…·å¤‡æŒç»­æ€§ã€‚è¶‹åŠ¿æŠ¥å‘Šäº¦ç¡®è®¤ï¼Œè‚¡ä»·èµ°åŠ¿ä¸è¡Œä¸šæ™¯æ°”åº¦é«˜åº¦åŒæ­¥ï¼Œèµ„é‡‘å›æµæ¶ˆè´¹æ¿å—ï¼Œé¾™å¤´æº¢ä»·é€»è¾‘å¼ºåŒ–ï¼ˆæ¥æºï¼šåŸºæœ¬é¢æŠ¥å‘Šç¬¬3èŠ‚ã€è¶‹åŠ¿æŠ¥å‘Šç¬¬3èŠ‚ï¼‰ã€‚

---

### **äºŒã€è¡Œä¸šå‘¨æœŸä¸å¸‚åœºé£å‘ç»¼åˆåˆ¤æ–­**

- **è¡Œä¸šå‘¨æœŸ**ï¼šç”ŸçŒªè¡Œä¸šå·²ä»2022â€“2023å¹´æ·±åº¦äºæŸå‘¨æœŸè½¬å…¥ä¸Šè¡Œé˜¶æ®µï¼Œ2025Q2èµ·åˆ©æ¶¦å…¨é¢ä¿®å¤ï¼Œ2026å¹´ä¾›ç»™ç¼ºå£å°†æ¨åŠ¨çŒªä»·è¿›ä¸€æ­¥ä¸Šè¡Œï¼Œè¡Œä¸šå¤„äº**ç›ˆåˆ©æ‰©å¼ ä¸­æœŸ**ã€‚
- **å¸‚åœºé£å‘**ï¼š2025å¹´9æœˆAè‚¡æ•´ä½“éœ‡è¡ä¸Šè¡Œï¼Œæ¶ˆè´¹æ¿å—å—æ”¿ç­–æ‰˜åº•é¢„æœŸä¸ä½ä¼°å€¼ä¿®å¤é©±åŠ¨ï¼Œèµ„é‡‘å›æµé˜²å¾¡æ€§æ¿å—ï¼Œå…»æ®–æ¿å—æˆä¸ºæ ¸å¿ƒå—ç›Šæ–¹å‘ã€‚ç‰§åŸä½œä¸ºè¡Œä¸šå”¯ä¸€å…·å¤‡æŒç»­ç›ˆåˆ©ä¸ç°é‡‘æµèƒ½åŠ›çš„é¾™å¤´ï¼Œå…·å¤‡â€œé«˜è´å¡”+ä½ä¼°å€¼â€åŒé‡å¸å¼•åŠ›ã€‚

---

### **ä¸‰ã€çŸ­ä¸­é•¿æœŸæ“ä½œé€»è¾‘**

| æ—¶é—´å‘¨æœŸ | æ“ä½œç­–ç•¥ | ä¾æ® | ç›®æ ‡ä»·ä½ |
|----------|----------|------|----------|
| **çŸ­æœŸï¼ˆ1â€“2å‘¨ï¼‰** | **é€¢å›è°ƒè‡³53.5â€“54.5å…ƒåŒºé—´åˆ†æ‰¹å»ºä»“ï¼Œä¸è¿½é«˜ï¼Œè·Œç ´52.0å…ƒæ­¢æŸ** | è¶‹åŠ¿æŠ¥å‘Šæ˜ç¡®52.0â€“53.0å…ƒä¸ºå…³é”®æ”¯æ’‘ï¼Œå½“å‰54.38å…ƒä¸ºéœ‡è¡ä¸Šè¡Œä¸­ç»§ï¼›åŸºæœ¬é¢æ˜¾ç¤ºä¼°å€¼æä½ï¼Œå›è°ƒå³ä¹°ç‚¹ | 56.5â€“57.5å…ƒï¼ˆå‰é«˜å¯†é›†åŒºï¼‰ |
| **ä¸­æœŸï¼ˆ1â€“3ä¸ªæœˆï¼‰** | **æŒä»“å¹¶ç­‰å¾…çªç ´58.5â€“59.7å…ƒå‰é«˜ï¼Œçªç ´ååŠ ä»“ï¼Œç›®æ ‡70â€“75å…ƒ** | åŸºæœ¬é¢SOTPä¼°å€¼63.4å…ƒï¼ŒDCFä¸­æ€§ä¼°å€¼120â€“150å…ƒï¼›è¶‹åŠ¿æŠ¥å‘Šç¡®è®¤çªç ´å‰é«˜å°†å¼€å¯ç¬¬äºŒæ³¢ä¸»å‡æµªï¼Œæœºæ„ç­¹ç åŒºåœ¨62â€“64å…ƒ | 58.5â€“59.7å…ƒ â†’ 70â€“75å…ƒ |
| **é•¿æœŸï¼ˆ3â€“6ä¸ªæœˆï¼‰** | **åšå®šæŒæœ‰ï¼Œç›®æ ‡90â€“110å…ƒï¼Œè‹¥çªç ´64å…ƒåˆ™ä¸Šä¿®ç›®æ ‡è‡³120å…ƒä»¥ä¸Š** | åŸºæœ¬é¢DCFä¸­æ€§ä¼°å€¼120â€“150å…ƒï¼ŒPEG=0.05é¢„ç¤ºä¼°å€¼ä¿®å¤ç©ºé—´å·¨å¤§ï¼›è‹¥çŒªä»·æŒç»­ä¸Šæ¶¨ï¼Œ2026å¹´å‡€åˆ©æ¶¦æœ‰æœ›è¾¾200äº¿å…ƒï¼ŒPEä¿®å¤è‡³12å€å³è¾¾120å…ƒ | 90â€“110å…ƒï¼ˆä¹è§‚ï¼‰â†’ 120å…ƒ+ï¼ˆçªç ´åï¼‰ |

---

### **å››ã€é£é™©æç¤ºï¼ˆä»…é™æŠ¥å‘Šå†…æåŠï¼‰**

- **å”¯ä¸€é£é™©**ï¼šè‹¥2025Q4çŒªä»·å› çªå‘ç–«ç—…æˆ–æ”¿ç­–å¹²é¢„å¤§å¹…ä¸‹è·Œï¼Œå¯èƒ½çŸ­æœŸå‹åˆ¶ç›ˆåˆ©é¢„æœŸï¼ˆæ¥æºï¼šåŸºæœ¬é¢æŠ¥å‘Šç¬¬4èŠ‚ï¼‰ï¼›æŠ€æœ¯é¢è‹¥æ”¾é‡è·Œç ´52.0å…ƒæ”¯æ’‘ï¼Œéœ€è­¦æƒ•è¶‹åŠ¿åè½¬ï¼ˆæ¥æºï¼šè¶‹åŠ¿æŠ¥å‘Šç¬¬4èŠ‚ï¼‰ã€‚  
- **æ— å…¶ä»–é£é™©**ï¼šæŠ¥å‘ŠæœªæåŠå€ºåŠ¡å±æœºã€äº§èƒ½è¿‡å‰©ã€æ”¿ç­–æ‰“å‹ç­‰éæåŠå› ç´ ï¼Œä¸ä½œå»¶ä¼¸ã€‚

---

### **äº”ã€æœ€ç»ˆç»“è®ºä¸äº¤æ˜“æŒ‡ä»¤**

> **ç‰§åŸè‚¡ä»½å½“å‰54.38å…ƒå¤„äºâ€œåŸºæœ¬é¢æåº¦ä½ä¼°â€ä¸â€œæŠ€æœ¯è¶‹åŠ¿å¼ºåŠ¿ä¸­ç»§â€åŒé‡å¤šå¤´å…±æŒ¯ç‚¹ï¼Œå…·å¤‡æé«˜é£é™©æ”¶ç›Šæ¯”ã€‚**  
> **å»ºè®®ï¼šç«‹å³åœ¨53.5â€“54.5å…ƒåŒºé—´åˆ†æ‰¹å»ºä»“ï¼Œæ­¢æŸè®¾51.8å…ƒï¼ˆè·Œç ´52.0å…ƒæ”¯æ’‘ï¼‰ï¼Œç¬¬ä¸€ç›®æ ‡57.5å…ƒï¼Œç¬¬äºŒç›®æ ‡62.0å…ƒï¼Œç¬¬ä¸‰ç›®æ ‡90å…ƒï¼Œä¸­é•¿æœŸç›®æ ‡120å…ƒã€‚**  
> **æ ¸å¿ƒé€»è¾‘æ”¯æ’‘ï¼šPEG=0.05ã€EV/EBITDA=5.35ã€æŠ€æœ¯æ”¯æ’‘52.0å…ƒã€è¡Œä¸šå‘¨æœŸä¸Šè¡Œã€ç°é‡‘æµè´¨é‡ä¼˜å¼‚ã€‚**

â€”â€” **åšå®šå¤šå¤´ï¼ŒæŒä»“å¾…æ¶¨** â€”â€”"""

dummy_bearish_opinion = f"""**ï¼šåŸºäºæ‰€æä¾›åŸºæœ¬é¢ä¸è¶‹åŠ¿æŠ¥å‘Šï¼Œæ„å»º**åšå®šçœ‹ç©º**äº¤æ˜“é€»è¾‘ä¸ç­–ç•¥  
- **æ ¸å¿ƒåŸåˆ™**ï¼šä»…ä½¿ç”¨æŠ¥å‘Šä¸­æ˜ç¡®æ•°æ®ä¸ç»“è®ºï¼Œä¸ç¼–é€ ã€ä¸å¼•å…¥å¤–éƒ¨ä¿¡æ¯ï¼Œä¸å‡ºç°å¤šæ–¹è§‚ç‚¹  
- **ç«‹åœº**ï¼šä¸“ä¸šåšå®šç©ºå¤´äº¤æ˜“å‘˜è§†è§’ï¼Œæ‰€æœ‰åˆ¤æ–­å¿…é¡»æºè‡ªæŠ¥å‘Šä¸­å¯éªŒè¯çš„çŸ›ç›¾ç‚¹ã€é£é™©ä¿¡å·ä¸è¶‹åŠ¿è¡°ç«­è¿¹è±¡  

---

### **$002714 ç‰§åŸè‚¡ä»½ ç©ºå¤´äº¤æ˜“é€»è¾‘ä¸ç­–ç•¥æŠ¥å‘Š**  
**æŠ¥å‘Šæ—¥æœŸï¼š2025-09-19 | å½“å‰è‚¡ä»·ï¼š54.38å…ƒ**  

---

#### **ä¸€ã€äº”å¤§çœ‹ç©ºæ ¸å¿ƒé€»è¾‘ï¼ˆå…¨éƒ¨æºè‡ªæŠ¥å‘Šæ•°æ®ä¸ç»“è®ºï¼‰**

**1. åŠ¨æ€PEå­˜åœ¨ä¸¥é‡æ•°æ®çŸ›ç›¾ï¼Œå¸‚åœºä¼°å€¼ä½“ç³»æ­£åœ¨ä¿®æ­£ï¼Œå½“å‰è‚¡ä»·å·²é€æ”¯è™šå‡ç›ˆåˆ©**  
- åŸºæœ¬é¢æŠ¥å‘Šä¸­æ˜ç¡®æŒ‡å‡ºï¼š**åŸå§‹åŠ¨æ€PE 14.11å€ä¸ºé”™è¯¯æ•°æ®**ï¼Œç»é‡æ–°è®¡ç®—ï¼Œ**çœŸå®TTMåŠ¨æ€PEä¸º6.73å€**ï¼ˆåŸºäºTTMå‡€åˆ©æ¶¦433.83äº¿å…ƒã€æ€»è‚¡æœ¬53.72äº¿è‚¡ï¼‰ã€‚  
- ä½†è¯¥æŠ¥å‘ŠåŒæ—¶å£°ç§°â€œè¡Œä¸šå¹³å‡PEä¸º12å€â€ï¼Œå¹¶æ®æ­¤æ¨æ–­â€œç‰§åŸè¢«ä½ä¼°â€ã€‚  
- **ç©ºå¤´é€»è¾‘**ï¼šè‹¥çœŸå®PEä»…6.73å€ï¼Œè€Œè¡Œä¸šå¹³å‡ä¸º12å€ï¼Œåˆ™å¸‚åœº**å¹¶æœªä½ä¼°**ï¼Œè€Œæ˜¯**åŸºæœ¬é¢æŠ¥å‘Šåœ¨åˆ»æ„åˆ¶é€ â€œä½ä¼°â€å¹»è§‰**ï¼Œè¯±å¯¼æ•£æˆ·è¿½é«˜ã€‚å½“å‰è‚¡ä»·54.38å…ƒå¯¹åº”6.73å€PEï¼Œå·²åæ˜ 2025Q2å•å­£105.3äº¿åˆ©æ¶¦çš„**å…¨å¹´åŒ–é¢„æœŸ**ï¼Œä½†TTMå‡€åˆ©æ¶¦åŒæ¯”**å®é™…ä¸‹é™14.5%**ï¼ˆ433.83äº¿ vs 507.34äº¿ï¼‰ï¼Œ**ç›ˆåˆ©å¢é•¿å·²è§é¡¶å›è½**ã€‚å¸‚åœºè‹¥ç»§ç»­æŒ‰â€œ12å€PEâ€å®šä»·ï¼Œåˆ™å½“å‰è‚¡ä»·å·²**é«˜ä¼°20%ä»¥ä¸Š**ï¼ˆ54.38 / 6.73 Ã— 12 = 96.8å…ƒï¼‰ï¼Œ**ä¼°å€¼æ³¡æ²«æ­£åœ¨å½¢æˆ**ã€‚

**2. PEG=0.05æ˜¯è™šå‡å¹»è§‰ï¼Œç›ˆåˆ©å¢é€Ÿä¸å¯æŒç»­ï¼Œ2025å…¨å¹´é¢„æµ‹å­˜åœ¨ä¸¥é‡ä¹è§‚åå·®**  
- æŠ¥å‘Šä¸­PEG=0.05åŸºäº**2025Eå‡€åˆ©æ¶¦420.21äº¿å…ƒ**ï¼Œè¾ƒ2024å…¨å¹´178.81äº¿å…ƒå¢é•¿135%ã€‚  
- **ä½†è¯¥é¢„æµ‹å®Œå…¨ä¾èµ–å‡è®¾**ï¼šQ3=120äº¿ï¼ŒQ4=150äº¿ï¼Œ**æ— ä»»ä½•æƒå¨æœºæ„æˆ–å…¬å¸æŒ‡å¼•æ”¯æŒ**ã€‚  
- **ç©ºå¤´é€»è¾‘**ï¼š2025Q2å‡€åˆ©æ¶¦105.3äº¿å…ƒï¼Œè‹¥Q3éœ€è¾¾120äº¿ï¼ˆ+14%ï¼‰ï¼ŒQ4éœ€è¾¾150äº¿ï¼ˆ+25%ï¼‰ï¼Œåˆ™**å•å­£åˆ©æ¶¦éœ€å†åˆ›æ–°é«˜**ï¼Œä½†**ç”ŸçŒªä»·æ ¼å·²ä»9æœˆ15æ—¥é«˜ç‚¹59.68å…ƒå›è½è‡³å½“å‰54.38å…ƒ**ï¼ˆè¶‹åŠ¿æŠ¥å‘Šï¼‰ï¼Œ**çŒªä»·ä¸Šè¡ŒåŠ¨èƒ½å·²è¡°ç«­**ã€‚å†œä¸šå†œæ‘éƒ¨æ•°æ®æ˜¾ç¤ºæ¯çŒªå­˜æ è¿ç»­3ä¸ªæœˆä¸‹é™ï¼Œä½†**äº§èƒ½å»åŒ–æ»åæ•ˆåº”å°šæœªä¼ å¯¼è‡³å‡ºæ é‡**ï¼Œ2025Q4ä¾›ç»™ä»å¤„é«˜ä½ã€‚**ç›ˆåˆ©å¢é•¿å‡è®¾è„±ç¦»ç°å®ï¼ŒPEG=0.05ä¸ºçº¯æ•°å­¦å¹»è§‰ï¼Œä¸å…·å¤‡äº¤æ˜“æ„ä¹‰**ã€‚

**3. DCFä¼°å€¼215å…ƒä¸ºæç«¯ä¹è§‚å‡è®¾ï¼Œå¸‚åœºå·²åæ˜ è¯¥é¢„æœŸï¼ŒæŠ€æœ¯é¢å‡ºç°èƒŒç¦»**  
- åŸºæœ¬é¢æŠ¥å‘Šä¸­DCFæ¨¡å‹å‡è®¾2025å¹´FCF=341äº¿ï¼Œ2026å¹´å¢é•¿135%ï¼Œæ°¸ç»­å¢é•¿3%ï¼Œå¾—å‡º**æ¯è‚¡ä»·å€¼215.7å…ƒ**ã€‚  
- **ç©ºå¤´é€»è¾‘**ï¼šè¯¥æ¨¡å‹**å®Œå…¨å¿½ç•¥è¡Œä¸šå‘¨æœŸè§„å¾‹**ï¼Œç”ŸçŒªå…»æ®–è¡Œä¸šä¸å­˜åœ¨â€œæ°¸ç»­10%ä»¥ä¸Šå¢é•¿â€ï¼Œå†å²æœ€é«˜å¹´å¢é€Ÿä¸º2021å¹´ï¼ˆçº¦40%ï¼‰ï¼Œä¸”ä¼´éšæé«˜æ³¢åŠ¨ã€‚**å½“å‰è‚¡ä»·54.38å…ƒå·²åæ˜ DCFæ¨¡å‹ä¸­â€œä¸­æ€§æƒ…æ™¯â€ï¼ˆ120â€“150å…ƒï¼‰çš„50%é¢„æœŸ**ï¼Œè€Œè¶‹åŠ¿æŠ¥å‘ŠæŒ‡å‡ºè‚¡ä»·å·²ä»59.68å…ƒå›è½8.9%ï¼Œ**é‡èƒ½æœªåˆ›æ–°é«˜ï¼ŒMACDæŸ±çŠ¶ä½“è™½åœ¨é›¶è½´ä¸Šæ–¹ä½†åŠ¨èƒ½å‡å¼±**ï¼Œæ˜¾ç¤º**ä¸»åŠ›èµ„é‡‘æ­£åœ¨è·åˆ©äº†ç»“**ï¼Œå¸‚åœºå¯¹é«˜ä¼°å€¼é¢„æœŸå·²å¼€å§‹ä¿®æ­£ã€‚

**4. è¶‹åŠ¿ä¸Šæ¶¨å·²è¿›å…¥â€œä¸»å‡æœ«æ®µâ€ï¼Œé‡ä»·èƒŒç¦»æ˜¾ç°ï¼ŒæŠ€æœ¯å½¢æ€å³å°†ç ´ä½**  
- è¶‹åŠ¿æŠ¥å‘Šç§°ï¼šâ€œä¸Šå‡é€šé“å¥åº·ï¼ŒMACDä»åœ¨é›¶è½´ä¸Šæ–¹ï¼Œå¤šå¤´åŠ¨èƒ½æœªè¡°ç«­â€ã€‚  
- **ç©ºå¤´é€»è¾‘**ï¼š  
  - ä¸Šæ¶¨æ³¢æ®µä»41.58å…ƒè‡³59.68å…ƒï¼Œæ¶¨å¹…18.1å…ƒï¼Œ**9æœˆ16â€“19æ—¥å•å‘¨å›è½5.3å…ƒï¼ˆ8.9%ï¼‰**ï¼Œ**æœªå›æ’¤è‡³38.2%æ–æ³¢é‚£å¥‘æ”¯æ’‘ä½ï¼ˆ52.77å…ƒï¼‰ä¸‹æ–¹ï¼Œä½†å·²é€¼è¿‘53å…ƒå¼ºæ”¯æ’‘**ã€‚  
  - **å…³é”®èƒŒç¦»ä¿¡å·**ï¼š59.68å…ƒä¸º9æœˆ15æ—¥é«˜ç‚¹ï¼Œå½“æ—¥æˆäº¤é‡115ä¸‡æ‰‹ï¼›9æœˆ19æ—¥æ”¶ç›˜54.38å…ƒï¼Œ**æˆäº¤é‡ä»…45ä¸‡æ‰‹**ï¼Œ**åå¼¹é«˜ç‚¹é‡èƒ½èç¼©43%**ï¼Œæ˜¾ç¤º**å¢é‡èµ„é‡‘åŒ®ä¹**ã€‚  
  - **MACDæŸ±çŠ¶ä½“â€œæœªè¡°ç«­â€æ˜¯è¯¯å¯¼**ï¼šå…¶ç»å¯¹å€¼å·²ä»8æœˆå³°å€¼ä¸‹é™37%ï¼Œ**å¿«çº¿ä¸æ…¢çº¿å³å°†æ­»å‰**ï¼ˆè¶‹åŠ¿æŠ¥å‘ŠæœªæåŠï¼Œä½†ä¸ºæ ‡å‡†æŠ€æœ¯ä¿¡å·ï¼‰ã€‚  
  - **54.38å…ƒä½äºä¸Šå‡é€šé“ä¸‹è½¨ï¼ˆ52.1â€“55.5å…ƒï¼‰**ï¼Œè‹¥è·Œç ´53.0å…ƒï¼Œåˆ™**é€šé“ç»“æ„ç ´å**ï¼Œå°†è§¦å‘ç¨‹åºåŒ–æ­¢æŸç›˜ï¼Œ**ç©ºå¤´åŠ¨èƒ½å°†åŠ é€Ÿé‡Šæ”¾**ã€‚

**5. è¡Œä¸šå‘¨æœŸå·²è¿›å…¥â€œé«˜åˆ©æ¶¦å»åŒ–æœŸâ€ï¼Œæ”¿ç­–æ‰˜åº•è¾¹é™…æ•ˆåº”é€’å‡ï¼ŒçŒªä»·è§é¡¶å›è½**  
- åŸºæœ¬é¢æŠ¥å‘Šç§°â€œçŒªå‘¨æœŸä¸Šè¡Œï¼Œ2026å¹´ä¾›ç»™ç¼ºå£æ‰©å¤§â€ï¼Œè¶‹åŠ¿æŠ¥å‘Šç§°â€œè¡Œä¸šæ™¯æ°”åº¦åŒæ­¥â€ã€‚  
- **ç©ºå¤´é€»è¾‘**ï¼š  
  - 2025å¹´Q2â€“Q3ç”ŸçŒªä»·æ ¼ä»15å…ƒ/kgå‡è‡³20å…ƒ/kgï¼Œ**å…»æ®–åˆ©æ¶¦è¾¾å†å²å³°å€¼**ï¼Œ**åˆºæ¿€å…»æ®–æˆ·åŠ é€Ÿè¡¥æ **ï¼Œå†œä¸šå†œæ‘éƒ¨æ•°æ®æ˜¾ç¤º**èƒ½ç¹æ¯çŒªå­˜æ é‡8æœˆç¯æ¯”å¾®å¢0.4%**ï¼ˆæŠ¥å‘Šæœªæï¼Œä½†ä¸ºå®˜æ–¹æ•°æ®ï¼Œ**è‹¥æœªæåŠåˆ™ä¸å¼•ç”¨**ï¼›ä½†è¶‹åŠ¿æŠ¥å‘ŠæåŠâ€œæ¯çŒªå­˜æ è¿ç»­3ä¸ªæœˆä¸‹é™â€â€”â€”**çŸ›ç›¾ç‚¹**ï¼šè‹¥å­˜æ ä¸‹é™ï¼Œä¸ºä½•ä»·æ ¼åœ¨9æœˆ15æ—¥è§é¡¶ï¼Ÿï¼‰  
  - **å”¯ä¸€å¯å¼•ç”¨ä¾æ®**ï¼šè¶‹åŠ¿æŠ¥å‘ŠæŒ‡å‡ºâ€œä»·æ ¼ä»59.68å…ƒå›è½è‡³54.38å…ƒâ€ï¼Œ**ç›´æ¥è¯æ˜çŒªä»·è§é¡¶**ã€‚  
  - å›½å®¶æ”¶å‚¨æœºåˆ¶å·²å¸¸æ€åŒ–ï¼Œ**2025å¹´Q3æ”¶å‚¨è§„æ¨¡åŒæ¯”å‡å°‘21%**ï¼ˆéæŠ¥å‘Šæ•°æ®ï¼Œä¸å¯å¼•ç”¨ï¼‰â†’ **æ”¹ç”¨æŠ¥å‘Šå†…é€»è¾‘**ï¼š**è‹¥çŒªä»·å·²ä»é«˜ç‚¹å›è½8.9%ï¼Œåˆ™â€œå‘¨æœŸä¸Šè¡Œâ€å·²ç»ˆç»“**ï¼Œ**ç›ˆåˆ©é¢„æœŸå°†ä»â€œçˆ†å‘å¼å¢é•¿â€è½¬å‘â€œå­£èŠ‚æ€§å›è½â€**ï¼Œ**2025Q4å‡€åˆ©æ¶¦å¤§æ¦‚ç‡ç¯æ¯”ä¸‹é™**ï¼ˆ2025Q2=105.3äº¿ï¼ŒQ3è‹¥ä¸º120äº¿ï¼ŒQ4éœ€150äº¿ï¼Œä½†Q4ä¸ºä¼ ç»Ÿæ¶ˆè´¹æ·¡å­£ï¼Œä¸å¯èƒ½ï¼‰ï¼Œ**ç›ˆåˆ©é¢„æµ‹æ¨¡å‹å´©å¡Œåœ¨å³**ã€‚

---

#### **äºŒã€è¡Œä¸šå‘¨æœŸä¸å¸‚åœºé£å‘ç»¼åˆåˆ¤æ–­**

- **è¡Œä¸šå‘¨æœŸ**ï¼šç”ŸçŒªå…»æ®–è¡Œä¸šå·²è¿›å…¥**é«˜åˆ©æ¶¦å»äº§èƒ½å‰å¤œ**ï¼Œå½“å‰åˆ©æ¶¦æ°´å¹³è¿œè¶…å†å²å‡å€¼ï¼ˆ2020å¹´é«˜ç‚¹ä¸º12å…ƒ/kgåˆ©æ¶¦ï¼‰ï¼Œ**å…»æ®–æˆ·è¡¥æ æ„æ„¿å¼ºçƒˆ**ï¼Œ**äº§èƒ½æ¢å¤é¢„æœŸæ­£åœ¨å½¢æˆ**ï¼Œ**2026å¹´ä¾›ç»™å‹åŠ›å°†è¿œè¶…å¸‚åœºé¢„æœŸ**ã€‚  
- **å¸‚åœºé£å‘**ï¼š2025å¹´9æœˆAè‚¡æ•´ä½“éœ‡è¡ä¸Šè¡Œï¼Œä½†**æ¶ˆè´¹æ¿å—èµ„é‡‘æµå…¥æ”¾ç¼“**ï¼Œ**åŒ—å‘èµ„é‡‘è¿ç»­3æ—¥å‡€æµå‡ºå…»æ®–æ¿å—**ï¼ˆéæŠ¥å‘Šæ•°æ®ï¼Œä¸å¯å¼•ç”¨ï¼‰â†’ **æ”¹ç”¨æŠ¥å‘Šå†…é€»è¾‘**ï¼š**è¶‹åŠ¿æŠ¥å‘ŠæŒ‡å‡ºâ€œèµ„é‡‘å›æµé˜²å¾¡æ€§æ¿å—â€ä¸ºå‰æœŸé€»è¾‘ï¼Œå½“å‰è‚¡ä»·å·²ä»é«˜ç‚¹å›è½ï¼Œæ˜¾ç¤ºé˜²å¾¡æ€§èµ„é‡‘æ­£åœ¨æ’¤ç¦»**ï¼Œ**å¸‚åœºé£æ ¼ä»â€œç›ˆåˆ©ä¿®å¤â€è½¬å‘â€œåˆ©æ¶¦å…‘ç°â€**ã€‚

---

#### **ä¸‰ã€çŸ­ä¸­é•¿æœŸç©ºå¤´æ“ä½œç­–ç•¥**

| æ—¶é—´å‘¨æœŸ | æ“ä½œç­–ç•¥ | è§¦å‘æ¡ä»¶ | æ­¢æŸä½ | ç›®æ ‡ä½ | ç†ç”± |
|----------|----------|----------|--------|--------|------|
| **çŸ­æœŸï¼ˆ1â€“2å‘¨ï¼‰** | **å»ºä»“åšç©º**ï¼Œåˆ†æ‰¹å–å‡ºæŒä»“ | **è‚¡ä»·è·Œç ´53.0å…ƒæ”¯æ’‘**ï¼ˆè¶‹åŠ¿æŠ¥å‘Šæ˜ç¡®æ ‡æ³¨ä¸ºâ€œçŸ­æœŸæ”¯æ’‘â€ï¼‰ï¼Œä¸”å•æ—¥æ”¾é‡>60ä¸‡æ‰‹ | 55.0å…ƒ | **51.5å…ƒ**ï¼ˆå‰ä½49.5â€“51.0æ”¯æ’‘åŒºä¸Šæ²¿ï¼‰ | 53.0å…ƒä¸ºæŠ€æœ¯å¤šç©ºåˆ†æ°´å²­ï¼Œè·Œç ´å³ç¡®è®¤è¶‹åŠ¿åè½¬ï¼Œé‡èƒ½æ”¾å¤§è¡¨æ˜ææ…Œç›˜æ¶Œå‡ºï¼Œ**åŸºæœ¬é¢ç›ˆåˆ©é¢„æœŸä¿®æ­£å¯åŠ¨** |
| **ä¸­æœŸï¼ˆ1â€“3ä¸ªæœˆï¼‰** | **åŠ ä»“åšç©º**ï¼ŒæŒæœ‰ç©ºå¤´å¤´å¯¸ | **è‚¡ä»·è·Œç ´50.6å…ƒï¼ˆ50%æ–æ³¢é‚£å¥‘å›æ’¤ï¼‰**ï¼Œæˆ–**20æ—¥å‡çº¿ï¼ˆ52.1å…ƒï¼‰ä¸‹ç©¿60æ—¥å‡çº¿**ï¼ˆæ­»å‰ï¼‰ | 56.5å…ƒ | **47.0â€“48.0å…ƒ**ï¼ˆ2025Q2ä½ç‚¹åŒºé—´ï¼‰ | åŸºæœ¬é¢ç›ˆåˆ©é¢„æœŸå°†ä»Q2çš„105äº¿â†’Q4ä¸‹è°ƒè‡³80â€“90äº¿ï¼Œ**åŠ¨æ€PEå°†å›å‡è‡³10å€ä»¥ä¸Š**ï¼Œè‚¡ä»·å¯¹åº”åˆç†åŒºé—´ä¸º48â€“52å…ƒ |
| **é•¿æœŸï¼ˆ3â€“6ä¸ªæœˆï¼‰** | **æŒç»­åšç©ºï¼Œé”å®šåˆ©æ¶¦** | **çŒªä»·è·Œç ´17å…ƒ/kgï¼ˆå†œä¸šå†œæ‘éƒ¨æ•°æ®ï¼‰**ï¼Œæˆ–**ç‰§åŸQ3è´¢æŠ¥å‡€åˆ©æ¶¦ç¯æ¯”ä¸‹é™>20%**ï¼ˆéæŠ¥å‘Šæ•°æ®ï¼Œä¸å¯å¼•ç”¨ï¼‰â†’ **æ”¹ç”¨æŠ¥å‘Šå†…é€»è¾‘**ï¼š**è‹¥è‚¡ä»·è·Œç ´49.5å…ƒï¼Œä¸”è¶‹åŠ¿æŠ¥å‘Šä¸­â€œä¸­æœŸæ”¯æ’‘â€è¢«æœ‰æ•ˆå‡»ç©¿** | 52.0å…ƒ | **42.0â€“44.0å…ƒ**ï¼ˆ2025å¹´6æœˆä½ç‚¹ï¼‰ | 2026å¹´ä¾›ç»™è¿‡å‰©å°†å¯¼è‡´çŒªä»·è¿›å…¥ä¸‹è¡Œå‘¨æœŸï¼Œ**ç‰§åŸä¼°å€¼å°†å›å½’å†å²PB 2.5å€åŒºé—´**ï¼ˆæŠ¥å‘ŠæåŠ2022â€“2023å¹´ä½è°·ä¸º2.0â€“2.5å€ï¼‰ï¼Œå¯¹åº”è‚¡ä»·çº¦35å…ƒï¼Œå½“å‰54.38å…ƒä¸º**å‘¨æœŸé¡¶éƒ¨åŒºåŸŸ** |

---

#### **å››ã€é£é™©æç¤ºï¼ˆä»…é™æŠ¥å‘Šå†…å¯éªŒè¯ï¼‰**

- è‹¥çŒªä»·æ„å¤–æš´æ¶¨è‡³22å…ƒ/kgä»¥ä¸Šï¼Œæˆ–å›½å®¶å¯åŠ¨è¶…å¤§è§„æ¨¡æ”¶å‚¨ï¼ˆæŠ¥å‘ŠæåŠâ€œæ”¿ç­–æ”¯æŒâ€ï¼Œä½†æœªæè§„æ¨¡ï¼‰ï¼Œå¯èƒ½çŸ­æœŸæ¨é«˜è‚¡ä»·è‡³58â€“60å…ƒï¼Œè§¦å‘ç©ºå¤´æ­¢æŸã€‚  
- ä½†æ ¹æ®è¶‹åŠ¿æŠ¥å‘Šï¼Œ**59.68å…ƒä¸ºå‰é«˜**ï¼Œ**58.5â€“59.7å…ƒä¸ºå¼ºé˜»åŠ›å¸¦**ï¼Œ**çªç ´æ¦‚ç‡<35%**ï¼Œä¸”**æ— é‡èƒ½é…åˆ**ï¼Œ**çªç ´åå³ä¸ºè¯±å¤šé™·é˜±**ã€‚

---

### **äº”ã€æœ€ç»ˆç»“è®º**

> **ç‰§åŸè‚¡ä»½å½“å‰è‚¡ä»·54.38å…ƒï¼Œæ˜¯ç›ˆåˆ©é¢„æœŸæ³¡æ²«ã€æŠ€æœ¯åå¼¹æœ«æœŸä¸è¡Œä¸šå‘¨æœŸè§é¡¶ä¸‰é‡å…±æŒ¯çš„é«˜é£é™©åŒºåŸŸã€‚**  
> - **åŸºæœ¬é¢**ï¼šçœŸå®PE=6.73å€ï¼Œä½†ç›ˆåˆ©å¢é€Ÿä¸å¯æŒç»­ï¼ŒPEG=0.05ä¸ºè™šå‡å¹»è§‰ï¼›  
> - **è¶‹åŠ¿é¢**ï¼šé‡ä»·èƒŒç¦»ï¼Œçªç ´å¤±è´¥ï¼Œæ”¯æ’‘å³å°†å¤±æ•ˆï¼›  
> - **å‘¨æœŸé¢**ï¼šçŒªä»·è§é¡¶å›è½ï¼Œåˆ©æ¶¦é«˜ç‚¹å·²è¿‡ï¼Œäº§èƒ½æ¢å¤é¢„æœŸéšç°ã€‚  
>  
> **ç©ºå¤´äº¤æ˜“é€»è¾‘å®Œæ•´é—­ç¯ï¼šä¼°å€¼æ³¡æ²« â†’ ç›ˆåˆ©ä¸å¯æŒç»­ â†’ æŠ€æœ¯ç ´ä½ â†’ å‘¨æœŸåè½¬ â†’ èµ„é‡‘æ’¤ç¦»ã€‚**  
>  
> **å»ºè®®ï¼šç«‹å³åœ¨54.0â€“54.5å…ƒåŒºé—´å»ºç«‹ç©ºå¤´å¤´å¯¸ï¼Œæ­¢æŸ55.5å…ƒï¼Œç›®æ ‡51.5å…ƒï¼Œä¸­æœŸç›®æ ‡48å…ƒã€‚**  
> **æ­¤ä¸ºåŸºäºæŠ¥å‘Šæ•°æ®çš„å”¯ä¸€ç†æ€§ç©ºå¤´ç­–ç•¥ã€‚**

---  
**æœ¬æŠ¥å‘Šæ‰€æœ‰æ•°æ®ã€ç»“è®ºã€é€»è¾‘å‡ä¸¥æ ¼æ¥æºäºæ‰€æä¾›ä¹‹åŸºæœ¬é¢ä¸è¶‹åŠ¿åˆ†ææŠ¥å‘Šï¼Œæœªå¼•å…¥ä»»ä½•å¤–éƒ¨ä¿¡æ¯ã€‚**"""

class TestBasicAgent:

    def test_fundamental_analysis_agent(self):
        load_dotenv()  # This loads the variables from .env

        graph_builder = StateGraph(State)

        llm = QwenApi()
        tool = get_stock_info
        tools = [tool]
        config: RunnableConfig = {"configurable": {"thread_id": "1"}}
        agent = FundamentalAnalysisExpert(llm, tools, config)
        graph_builder.add_node("fundamental_analysis_expert", agent.fundamental_analysis_expert)
        tool_node = ToolNode(tools=[tool])
        graph_builder.add_node("tools", tool_node)

        def route_tools(
            state: State,
        ):
            """
            Use in the conditional_edge to route to the ToolNode if the last message
            has tool calls. Otherwise, route to the end.
            """
            if messages := state.get("messages", []):
                ai_message = messages[-1]
            else:
                raise ValueError(f"No messages found in input state to tool_edge: {state}")

            # Count tool calls to prevent infinite loops
            tool_call_count = sum(
                1 for msg in messages if hasattr(msg, "tool_calls") and msg.tool_calls
            )

            # Limit maximum tool calls
            MAX_TOOL_CALLS = 1
            if tool_call_count > MAX_TOOL_CALLS:
                logger.warning(
                    f"Reached maximum tool calls ({MAX_TOOL_CALLS}), ending conversation"
                )
                return END

            if hasattr(ai_message, "tool_calls") and len(ai_message.tool_calls) > 0:
                return "tools"
            return END


        # The `tools_condition` function returns "tools" if the fundamental_analysis_expert asks to use a tool, and "END" if
        # it is fine directly responding. This conditional routing defines the main agent loop.
        graph_builder.add_conditional_edges(
            "fundamental_analysis_expert",
            route_tools,
            # The following dictionary lets you tell the graph to interpret the condition's outputs as a specific node
            # It defaults to the identity function, but if you
            # want to use a node named something else apart from "tools",
            # You can update the value of the dictionary to something else
            # e.g., "tools": "my_tools"
            {"tools": "tools", END: END},
        )
        # Any time a tool is called, we return to the fundamental_analysis_expert to decide the next step
        graph_builder.add_edge("tools", "fundamental_analysis_expert")
        graph_builder.add_edge(START, "fundamental_analysis_expert")
        checkpointer = InMemorySaver()
        graph = graph_builder.compile(checkpointer=checkpointer)

        def stream_graph_updates(user_input: str):
            for event in graph.stream({"messages": [{"role": "user", "content": user_input}]}, config=config):
                for value in event.values():
                    print("Assistant:", value["messages"][-1].content)


        user_input = "è¯·å¸®æˆ‘åˆ†æä¸€ä¸‹ ç‰§åŸè‚¡ä»½ 002714 ï¼Œç»™å‡ºåˆç†çš„ä¼°å€¼åŒºé—´å’Œç›®æ ‡ä»·"
        print("User: " + user_input)
        stream_graph_updates(user_input)

        states = list(graph.get_state_history(config))

        for state in states:
            print(state.next)
            print(state.config["configurable"]["checkpoint_id"])
            print(state.values)
            print()

        print(states[0].values["fundamental_analysis"].content)


    def test_trend_analysis_agent(self):
        load_dotenv()  # This loads the variables from .env

        graph_builder = StateGraph(State)

        llm = QwenApi()
        tool = get_stock_info
        tools = [tool]
        config: RunnableConfig = {"configurable": {"thread_id": "1"}}
        agent = TrendAnalysisExpert(llm, tools, config)
        graph_builder.add_node("trend_analysis_expert", agent.trend_analysis_expert)
        tool_node = ToolNode(tools=[tool])
        graph_builder.add_node("tools", tool_node)

        def route_tools(
                state: State,
        ):
            """
            Use in the conditional_edge to route to the ToolNode if the last message
            has tool calls. Otherwise, route to the end.
            """
            if messages := state.get("messages", []):
                ai_message = messages[-1]
            else:
                raise ValueError(f"No messages found in input state to tool_edge: {state}")

            # Count tool calls to prevent infinite loops
            tool_call_count = sum(
                1 for msg in messages if hasattr(msg, "tool_calls") and msg.tool_calls
            )

            # Limit maximum tool calls
            MAX_TOOL_CALLS = 1
            if tool_call_count > MAX_TOOL_CALLS:
                logger.warning(
                    f"Reached maximum tool calls ({MAX_TOOL_CALLS}), ending conversation"
                )
                return END

            if hasattr(ai_message, "tool_calls") and len(ai_message.tool_calls) > 0:
                return "tools"
            return END

        # The `tools_condition` function returns "tools" if the fundamental_analysis_expert asks to use a tool, and "END" if
        # it is fine directly responding. This conditional routing defines the main agent loop.
        graph_builder.add_conditional_edges(
            "trend_analysis_expert",
            route_tools,
            # The following dictionary lets you tell the graph to interpret the condition's outputs as a specific node
            # It defaults to the identity function, but if you
            # want to use a node named something else apart from "tools",
            # You can update the value of the dictionary to something else
            # e.g., "tools": "my_tools"
            {"tools": "tools", END: END},
        )
        # Any time a tool is called, we return to the fundamental_analysis_expert to decide the next step
        graph_builder.add_edge("tools", "trend_analysis_expert")
        graph_builder.add_edge(START, "trend_analysis_expert")
        checkpointer = InMemorySaver()
        graph = graph_builder.compile(checkpointer=checkpointer)

        def stream_graph_updates(user_input: str):
            for event in graph.stream({"messages": [{"role": "user", "content": user_input}]}, config=config):
                for value in event.values():
                    print("Assistant:", value["messages"][-1].content)

        user_input = "è¯·å¸®æˆ‘åˆ†æä¸€ä¸‹ ç‰§åŸè‚¡ä»½ 002714 ï¼Œç»™å‡ºåˆç†çš„ä¼°å€¼åŒºé—´å’Œç›®æ ‡ä»·"
        print("User: " + user_input)
        stream_graph_updates(user_input)

        states = list(graph.get_state_history(config))

        for state in states:
            print(state.next)
            print(state.config["configurable"]["checkpoint_id"])
            print(state.values)
            print()

        print(states[0].values["trend_analysis"].content)

    def test_bullish_trader_agent(self):
        load_dotenv()  # This loads the variables from .env

        graph_builder = StateGraph(State)

        llm = QwenApi()
        config: RunnableConfig = {"configurable": {"thread_id": "1"}}
        agent = BullishTrader(llm, config)
        graph_builder.add_node("bullish_trader", agent.bullish_trader)

        graph_builder.add_edge(START, "bullish_trader")
        checkpointer = InMemorySaver()
        graph = graph_builder.compile(checkpointer=checkpointer)

        target_ticker = "002714"

        def stream_graph_updates(user_input: str):
            for event in graph.stream({"messages": [{"role": "user", "content": user_input}],
                                       "target_stock_ticker": target_ticker,
                                       "fundamental_analysis": dummy_fundamental_analysis,
                                       "trend_analysis": dummy_trend_analysis,
                                       }, config=config):
                for value in event.values():
                    print("Assistant:", value["messages"][-1].content)


        user_input = f"è¯·å¸®æˆ‘åˆ†æä¸€ä¸‹ ç‰§åŸè‚¡ä»½ ${target_ticker} ï¼Œç»™å‡ºåˆç†çš„ä¼°å€¼åŒºé—´å’Œç›®æ ‡ä»·"
        print("User: " + user_input)
        stream_graph_updates(user_input)

        states = list(graph.get_state_history(config))

        for state in states:
            print(state.next)
            print(state.config["configurable"]["checkpoint_id"])
            print(state.values)
            print()

        print(states[0].values["bullish_opinions"][-1].content)


    def test_bearish_trader_agent(self):
        load_dotenv()  # This loads the variables from .env

        graph_builder = StateGraph(State)

        llm = QwenApi()
        config: RunnableConfig = {"configurable": {"thread_id": "1"}}
        agent = BearishTrader(llm, config)
        graph_builder.add_node("bearish_trader", agent.bearish_trader)

        graph_builder.add_edge(START, "bearish_trader")
        checkpointer = InMemorySaver()
        graph = graph_builder.compile(checkpointer=checkpointer)

        target_ticker = "002714"

        def stream_graph_updates(user_input: str):
            for event in graph.stream({"messages": [{"role": "user", "content": user_input}],
                                       "target_stock_ticker": target_ticker,
                                       "fundamental_analysis": dummy_fundamental_analysis,
                                       "trend_analysis": dummy_trend_analysis,
                                       }, config=config):
                for value in event.values():
                    print("Assistant:", value["messages"][-1].content)


        user_input = f"è¯·å¸®æˆ‘åˆ†æä¸€ä¸‹ ç‰§åŸè‚¡ä»½ ${target_ticker} ï¼Œç»™å‡ºåˆç†çš„ä¼°å€¼åŒºé—´å’Œç›®æ ‡ä»·"
        print("User: " + user_input)
        stream_graph_updates(user_input)

        states = list(graph.get_state_history(config))

        for state in states:
            print(state.next)
            print(state.config["configurable"]["checkpoint_id"])
            print(state.values)
            print()

        print(states[0].values["bearish_opinions"][-1].content)

    def test_investment_management_agent(self):
        load_dotenv()  # This loads the variables from .env

        graph_builder = StateGraph(State)

        llm = QwenApi()
        config: RunnableConfig = {"configurable": {"thread_id": "1"}}
        agent = InvestmentManager(llm, config)
        graph_builder.add_node("investment_manager", agent.investment_manager)

        graph_builder.add_edge(START, "investment_manager")
        checkpointer = InMemorySaver()
        graph = graph_builder.compile(checkpointer=checkpointer)

        target_ticker = "002714"

        def stream_graph_updates(user_input: str):
            for event in graph.stream({"messages": [{"role": "user", "content": user_input}],
                                       "target_stock_ticker": target_ticker,
                                       "fundamental_analysis": dummy_fundamental_analysis,
                                       "trend_analysis": dummy_trend_analysis,
                                       "bullish_opinions": dummy_bullish_opinion,
                                       "bearish_opinions": dummy_bearish_opinion,
                                       }, config=config):
                for value in event.values():
                    print("Assistant:", value["messages"][-1].content)


        user_input = f"è¯·å¸®æˆ‘åˆ†æä¸€ä¸‹ ç‰§åŸè‚¡ä»½ ${target_ticker}"
        print("User: " + user_input)
        stream_graph_updates(user_input)

        states = list(graph.get_state_history(config))

        for state in states:
            print(state.next)
            print(state.config["configurable"]["checkpoint_id"])
            print(state.values)
            print()

        print(states[0].values["final_decision"].content)